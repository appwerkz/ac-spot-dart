<link rel="import" href="../../../packages/polymer/polymer.html">

<link rel="import" href="../../../packages/core_elements/core_header_panel.html">
<link rel="import" href="../../../packages/core_elements/core_toolbar.html">
<link rel="import" href="../../../packages/core_elements/core_icon.html">
<link rel="import" href="../../../packages/core_elements/core_icons.html">

<link rel="import" href="../../../packages/paper_elements/paper_button.html">

<link rel="import" href="../../../packages/ac_spot_dart/elements/fy_drawingtools.html">

<polymer-element name="fy-text-cause-effect" attributes="causeEffectTitle fySet">
  <template>
    <style>
    :host {
      display: block;
      width: 75%;
      height: 100%;
      background-color: lightblue;
    }
    
    core-toolbar {
      background-color: #fdcb0a;
    }
    
    core-header-panel {
      height: 100%;
    }
    
    
    #canvas {
      width: 75%;
    }
    
    #splash_text {
      width: 75%;
      height: 500px;
    }
    
    paper-button {
      color: white;
    }
    
    paper-button#done {
      background-color: red;
    }
    
    div.causeDropTarget {
      height: 50px;
      background-color: lightgrey;
    }
    
    div.effectDropTarget {
      height: 50px;
      margin-top: 5px;
      background-color: lightgrey;
    }
    
    div.label {
      text-align: center;
    }
    
    div.draggable {
      width: 300px;
      height: 50px;
      margin-left: 2px;
      margin-right: 2px;
      margin-top: 5px;
      background-color: white;
    }
    
    #task {
      text-align: center;
    }
    
    #task h3 {
      background-color: white;
      width: 55%;
      height: 50px;
    }
    </style>
    <core-header-panel layout vertical>
      <core-toolbar horizontal layout center-center>{{ causeEffectTitle.title }} <paper-button id="done" label="Done" hidden></paper-button></core-toolbar>
      <div vertical layout fit>
        <div id="task" layout horizontal flex center-center>
          <h3 vertical layout center-center>{{ fySet.question.title }}</h3>
        </div>
        <div vertical layout center-center style="width: 100%; height: 50%">
          <div horizontal layout center-center style="width: 75%;">
            <div class="label" flex one>Cause</div>
            <core-icon icon="arrow-forward" hidden></core-icon>
            <div class="label" flex one>Effect</div>
          </div>
          <template repeat="{{ causeEffect in fySet.cause_effects }}">
            <div horizontal layout center-center style="width: 75%;">
              <div class="causeDropTarget dropTarget" flex one>&nbsp;</div>
              <core-icon icon="arrow-forward"></core-icon>
              <div class="effectDropTarget dropTarget" flex one>&nbsp;</div>
            </div>
          </template>
        </div>
        <div horizontal layout center-center touch-action="none">
          <div horizontal layout center-justified wrap style="height: 50%; width: 75%">
            <template repeat="{{ causeEffect in fySet.cause_effects }}">
              <div class="draggable" on-trackstart="{{ trackStart }}" draggable="false">{{ causeEffect.cause }}</div>
            </template>
            <template repeat="{{ causeEffect in fySet.cause_effects }}">
              <div class="draggable" on-trackstart="{{ trackStart }}" draggable="false">{{ causeEffect.effect }}</div>
            </template>
            <template repeat="{{ option in fySet.options.options }}">
              <div class="draggable" on-trackstart="{{ trackStart }}" draggable="false">{{ option }}</div>
            </template>
          </div>
        </div>
      </div>
    </core-header-panel>
    <div id="avatar">&nbsp;</div>
  </template>
  <script type="application/dart" src="fy_text_cause_effect.dart"></script>
</polymer-element>